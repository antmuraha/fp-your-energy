var F=Object.defineProperty;var C=t=>{throw TypeError(t)};var R=(t,e,s)=>e in t?F(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var O=(t,e,s)=>R(t,typeof e!="symbol"?e+"":e,s),$=(t,e,s)=>e.has(t)||C("Cannot "+s);var i=(t,e,s)=>($(t,e,"read from private field"),s?s.call(t):e.get(t)),w=(t,e,s)=>e.has(t)?C("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),T=(t,e,s,n)=>($(t,e,"write to private field"),n?n.call(t,s):e.set(t,s),s);import{i as E}from"./assets/vendor-DVYrn7a6.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}})();var a,d;class V{constructor(e={}){w(this,a,{});w(this,d,{});T(this,a,{...e})}getState(e){return i(this,a)[e]}setState(e,s){i(this,a)[e]!==s&&(i(this,a)[e]=s,this.notify(e))}subscribe(e,s){i(this,d)[e]||(i(this,d)[e]=[]),i(this,d)[e].push(s),s(i(this,a)[e],i(this,a))}notify(e){if(i(this,d)[e])for(const s of i(this,d)[e])s(i(this,a)[e],i(this,a))}}a=new WeakMap,d=new WeakMap;class j{constructor(){this.subscribers=new Map,window.addEventListener("hashchange",this.handleHashChange.bind(this))}handleHashChange(){const e=window.location.hash;this.subscribers.forEach((s,n)=>{s(e)})}subscribe(e,s){return this.subscribers.has(e)||this.subscribers.set(e,s),()=>{this.subscribers.delete(e)}}isActive(e){return window.location.hash===e}}const P=new j,L=new V({loading:!1,filters:[],categories:[],selectedCategory:null,page:1,showFavorites:P.isActive("#favorites"),exerciseGroups:[],exercises:[]});P.subscribe("main",t=>{console.log("Main hash changed:",t);const e={"#favorites":()=>L.setState("showFavorites",!0),"":()=>L.setState("showFavorites",!1)};try{e[t]()}catch{console.error("Not implemented action for hash:",t)}});L.subscribe("showFavorites",(t,e)=>{console.log("Show favorites state changed:",t);const s=document.querySelector("#favorites-content");t?s.classList.remove("hidden"):s.classList.add("hidden")});document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("burgerBtn"),e=document.getElementById("burgerMenu"),s=document.getElementById("close-mob-menu"),n=document.querySelector(".social-links"),r=()=>{window.innerWidth<=768?n.style.display="none":n.style.display=""};t.addEventListener("click",()=>{e.classList.add("open")}),s.addEventListener("click",()=>{e.classList.remove("open")}),window.addEventListener("click",o=>{!e.contains(o.target)&&!t.contains(o.target)&&e.classList.remove("open")}),r(),window.addEventListener("resize",r)});class q extends Error{constructor(s,n){super(s);O(this,"status");this.status=n}}class H extends Error{constructor(e){super(e)}}class N extends Error{constructor(e){super(e)}}const x=async t=>{try{return{data:await t(),error:null,isError:!1}}catch(e){return{data:null,error:e,isError:!0}}},A=()=>{const t=c=>(...u)=>{},e=t(),s=t(),n=t(),r=t(),o=t();return{log:e,warn:s,error:n,info:r,table:o}},h=A(),z=t=>{if(!t||typeof t!="object")return"";const e=Object.fromEntries(Object.entries(t).filter(([n,r])=>r!==void 0));return Object.keys(e).length===0?"":"?"+new URLSearchParams(e).toString()},G=(t,e)=>async(s,{method:n="GET",query:r,body:o})=>{var S;const c=z(r),u=await x(()=>fetch(`${t}${s}${c}`,{method:n,body:JSON.stringify(o),headers:{"Content-Type":"application/json"}}));if(u.isError){const l=new N(`Error fetching ${s}${c}`,u.error);return h.error(l.toString()),{data:null,error:l,isError:!0}}if(!u.data.ok){const l=new q(`HTTP ${u.data.status} error in request ${s}${c}`,u.data.status);return h.error(l),(S=e==null?void 0:e[u.data.status])==null||S.call(e,l),{data:null,error:l,isError:!0}}const{data:M,error:D,isError:y}=await x(()=>u.data.json());if(y){const l=new H(`Error parsing JSON in request ${s}${c}`);return h.error(l),{data:null,error:l,isError:y}}return{data:M,error:D,isError:y}},J={400:t=>{},401:t=>{},403:t=>{},404:t=>{console.log("404 error:",t)},500:t=>{}},m=G("https://your-energy.b.goit.study/api",J),U=async(t,e)=>await m(t,{...e,method:"GET",body:void 0}),K=async(t,e)=>await m(t,{...e,method:"POST"}),Q=async(t,e)=>await m(t,{...e,method:"PUT"}),W=async(t,e)=>await m(t,{...e,method:"PATCH"}),_=async(t,e)=>await m(t,{...e,method:"DELETE"}),g={get:U,post:K,put:Q,patch:W,del:_},k=async(t,e=1,s=12)=>g.get("/filters",{query:{filter:t,page:e,limit:s}}),X=async()=>g.get("/quote"),Y=async(t={})=>g.get("/exercises",{query:{bodypart:t.bodypart,muscles:t.muscles,equipment:t.equipment,keyword:t.keyword,page:t.page||1,limit:t.limit||10}}),Z=async(t,e)=>g.patch(`/exercises/${t}/rating`,{body:{rate:e.rate,email:e.email,review:e.review}}),ee=async t=>g.get(`/exercises/${t}`),te=async t=>g.post("/subscription",{body:{email:t}}),se={getFilters:k,getQuoteOfDay:X,getExercises:Y,addExerciseRating:Z,getExerciseById:ee,subscribe:te},v={timeout:3e3,close:!1,closeOnClick:!0,icon:null,position:"topRight",transitionIn:"fadeInDown",transitionOut:"fadeOutUp"};class f{static success(e){E.success({title:"OK",titleColor:"green",message:e,messageColor:"green",progressBarColor:"green",...v})}static error(e){E.error({title:"Error",titleColor:"red",message:e,messageColor:"red",progressBarColor:"red",...v})}static warning(e){E.warning({title:"Caution",message:e,titleColor:"red",messageColor:"red",progressBarColor:"red",...v})}}const b=document.getElementById("subscribeForm"),p=b.querySelector('input[name="email"]'),B=document.getElementById("subscribeBtn");p.addEventListener("input",re);b.addEventListener("submit",oe);function I(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}function re(){const t=p.value,e=I(t);p.style.borderColor=e?"green":"red"}async function oe(t){t.preventDefault();const s=new FormData(b).get("email");if(!I(s))return console.error("Invalid email address"),f.error("Invalid email address");try{B.disabled=!0;const r=await se.subscribe(s);return r.status>=200&&r.status<300?(b.reset(),p.style.borderColor="",f.success(`${r.data.message}`)):(console.error("Server Error:",r.status,r.statusText),f.error(`Server Error: ${r.status} ${r.statusText}`))}catch(r){return console.error("Error:",r.message),f.error(`Error: ${r.message}`)}finally{B.disabled=!1}}h.log("devLogger test");
//# sourceMappingURL=index.js.map
