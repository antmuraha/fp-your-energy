var C=Object.defineProperty;var T=(e,t,s)=>t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var w=(e,t,s)=>T(e,typeof t!="symbol"?t+"":t,s);import{i as y}from"./assets/vendor-DVYrn7a6.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}})();document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("burgerBtn"),t=document.getElementById("burgerMenu"),s=document.getElementById("close-mob-menu"),n=document.querySelector(".social-links"),r=()=>{window.innerWidth<=768?n.style.display="none":n.style.display=""};e.addEventListener("click",()=>{t.classList.add("open")}),s.addEventListener("click",()=>{t.classList.remove("open")}),window.addEventListener("click",o=>{!t.contains(o.target)&&!e.contains(o.target)&&t.classList.remove("open")}),r(),window.addEventListener("resize",r)});class S extends Error{constructor(s,n){super(s);w(this,"status");this.status=n}}class B extends Error{constructor(t){super(t)}}class P extends Error{constructor(t){super(t)}}const L=async e=>{try{return{data:await e(),error:null,isError:!1}}catch(t){return{data:null,error:t,isError:!0}}},x=()=>{const e=i=>(...c)=>{},t=e(),s=e(),n=e(),r=e(),o=e();return{log:t,warn:s,error:n,info:r,table:o}},m=x(),I=e=>{if(!e||typeof e!="object")return"";const t=Object.fromEntries(Object.entries(e).filter(([n,r])=>r!==void 0));return Object.keys(t).length===0?"":"?"+new URLSearchParams(t).toString()},D=(e,t)=>async(s,{method:n="GET",query:r,body:o})=>{var E;const i=I(r),c=await L(()=>fetch(`${e}${s}${i}`,{method:n,body:JSON.stringify(o),headers:{"Content-Type":"application/json"}}));if(c.isError){const a=new P(`Error fetching ${s}${i}`,c.error);return m.error(a.toString()),{data:null,error:a,isError:!0}}if(!c.data.ok){const a=new S(`HTTP ${c.data.status} error in request ${s}${i}`,c.data.status);return m.error(a),(E=t==null?void 0:t[c.data.status])==null||E.call(t,a),{data:null,error:a,isError:!0}}const{data:O,error:$,isError:p}=await L(()=>c.data.json());if(p){const a=new B(`Error parsing JSON in request ${s}${i}`);return m.error(a),{data:null,error:a,isError:p}}return{data:O,error:$,isError:p}},R={400:e=>{},401:e=>{},403:e=>{},404:e=>{console.log("404 error:",e)},500:e=>{}},u=D("https://your-energy.b.goit.study/api",R),k=async(e,t)=>await u(e,{...t,method:"GET",body:void 0}),V=async(e,t)=>await u(e,{...t,method:"POST"}),j=async(e,t)=>await u(e,{...t,method:"PUT"}),q=async(e,t)=>await u(e,{...t,method:"PATCH"}),F=async(e,t)=>await u(e,{...t,method:"DELETE"}),l={get:k,post:V,put:j,patch:q,del:F},M=async(e,t=1,s=12)=>l.get("/filters",{query:{filter:e,page:t,limit:s}}),N=async()=>l.get("/quote"),z=async(e={})=>l.get("/exercises",{query:{bodypart:e.bodypart,muscles:e.muscles,equipment:e.equipment,keyword:e.keyword,page:e.page||1,limit:e.limit||10}}),H=async(e,t)=>l.patch(`/exercises/${e}/rating`,{body:{rate:t.rate,email:t.email,review:t.review}}),J=async e=>l.get(`/exercises/${e}`),U=async e=>l.post("/subscription",{body:{email:e}}),A={getFilters:M,getQuoteOfDay:N,getExercises:z,addExerciseRating:H,getExerciseById:J,subscribe:U},b={timeout:3e3,close:!1,closeOnClick:!0,icon:null,position:"topRight",transitionIn:"fadeInDown",transitionOut:"fadeOutUp"};class d{static success(t){y.success({title:"OK",titleColor:"green",message:t,messageColor:"green",progressBarColor:"green",...b})}static error(t){y.error({title:"Error",titleColor:"red",message:t,messageColor:"red",progressBarColor:"red",...b})}static warning(t){y.warning({title:"Caution",message:t,titleColor:"red",messageColor:"red",progressBarColor:"red",...b})}}const g=document.getElementById("subscribeForm"),f=g.querySelector('input[name="email"]'),h=document.getElementById("subscribeBtn");f.addEventListener("input",G);g.addEventListener("submit",K);function v(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function G(){const e=f.value,t=v(e);f.style.borderColor=t?"green":"red"}async function K(e){e.preventDefault();const s=new FormData(g).get("email");if(!v(s))return console.error("Invalid email address"),d.error("Invalid email address");try{h.disabled=!0;const r=await A.subscribe(s);return r.status>=200&&r.status<300?(g.reset(),f.style.borderColor="",d.success(`${r.data.message}`)):(console.error("Server Error:",r.status,r.statusText),d.error(`Server Error: ${r.status} ${r.statusText}`))}catch(r){return console.error("Error:",r.message),d.error(`Error: ${r.message}`)}finally{h.disabled=!1}}m.log("devLogger test");
//# sourceMappingURL=index.js.map
